javascript:(function(){if(document.location.href.indexOf('www.ipla.tv/')>0){var%20pathArray%20=%20window.location.pathname.split(%20'/'%20);var%20idn%20=%20pathArray[pathArray.length-1];document.location.href='http://getmedia.redefine.pl/vods/get_vod/?cpid=1&ua=mipla/23&media_id='+idn;}else%20if(document.location.href.indexOf('getmedia.redefine.pl/')>0){h=JSON.parse(document.body.textContent);if(h.vod.video_hd)a=h.vod.video_hd;else%20if(h.vod.video){a=h.vod.video}else{a=h.vod.copies[0].url}document.location.href=a}else%20if(document.location.href.indexOf('://player.pl/')>0){var%20n=document.location.href.split(/[.,]/);var%20f=new%20XMLHttpRequest();f.open('GET','/api/?platform=ConnectedTV&terminal=Panasonic&format=json&authKey=064fda5ab26dc1dd936f5c6e84b7d3c2&v=3.1&m=getItem&id='+n[n.length-1],false);f.send();var%20m=eval('('+f.responseText+')');try{var%20h=m.item.videos.main.video_content[1].url}catch(e){console.log('samsung%20HD%20fail,%20trying%20first%20vid');try{var%20h=m.item.videos.main.video_content[0].url}catch(e){console.log('samsung%20fail.%20falling%20back%20to%20android')}};if(!h){function%20u(){var%20c=document.location.href.split(/[.,]/);var%20g=new%20XMLHttpRequest();var%20d='/api/?platform=Mobile&terminal=Android&format=json&v=3.0&authKey=b4bc971840de63d105b3166403aa1bea&type=episode&id='+c[c.length-2]+'&sort=newest&m=getItem&deviceScreenHeight=1080&deviceScreenWidth=1920';g.open('GET',d,false);g.send();try{var%20k=eval('('+g.responseText+')');var%20l=k.item.videos.main.video_content[1].url;var%20i=r(l)}catch(e){console.log('android%203.0%20fail.%20falling%20back%20to%20android%202.0');var%20d='/api/?platform=Mobile&terminal=Android&format=json&v=2.0&authKey=b4bc971840de63d105b3166403aa1bea&type=episode&id='+c[c.length-2]+'&sort=newest&m=getItem&deviceScreenHeight=1080&deviceScreenWidth=1920';g.open('GET',d,false);g.send();var%20k=eval('('+g.responseText+')');var%20l=k.item.videos.main.video_content[1].url;var%20i=r(l)}if(i==false){return%20false}document.body.innerHTML='';videoUrlHtml=document.createTextNode(i);document.body.appendChild(videoUrlHtml);document.location.href=i}function%20r(c){try{c=c.replace('http://redir.atmcdn.pl/http/','');console.log(c);var%20g=CryptoJS.lib.WordArray.random(16).toString();var%20d='E8E2CE332A8BE7761B5E3397A18563E2';var%20k=new%20Date();var%20l=k.getTime();var%20i=l-946681200000;var%20q='name='+c+'&expire='+i+'\0';q=v(q);var%20w=CryptoJS.AES.encrypt((q),(CryptoJS.enc.Hex.parse(d)),{iv:(CryptoJS.enc.Hex.parse(g)),mode:CryptoJS.mode.CBC});var%20x=w.ciphertext.toString();return'http://redir.atmcdn.pl/http/'+c+'?salt='+g+'&token='+String(x).toUpperCase()}catch(e){return%20false}}function%20y(c,g){var%20d=16;var%20k=c.length%d;var%20l=d-k;for(var%20i=0;i<l;i++)c+=g;return%20c}function%20v(c){return%20y(c,String.fromCharCode(16-(c.length%2516)))}function%20s(c,g){var%20d=document.createElement('script'),k=document.getElementsByTagName('script'),l=k.length,i=function(){try{g&&g()}catch(exception){console.log('[Caught%20Exception]',exception)}};d.setAttribute('type','text/javascript');d.setAttribute('charset','utf-8');if(d.readyState){d.onreadystatechange=function(){if(d.readyState==='loaded'||d.readyState==='complete'){d.onreadystatechange=null;i()}}}else{d.onload=i}d.setAttribute('src',c);document.body.insertBefore(d,k[(l-1)].nextSibling)}var%20p=0;s('https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js',function(){p+=1;window.setTimeout(t,2000)});s('https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/pad-nopadding-min.js',function(){p+=1;window.setTimeout(t,2000)});function%20t(){console.log('Prerun:'+p);if(p>=2){u()}}}else{document.location.href=h}}else%20if(document.location.href.indexOf('://bajki.onet.pl/')+document.location.href.indexOf('://vod.pl/')>0){var%20%20i=document.body.innerHTML.substr(document.body.innerHTML.indexOf('id='+atob('Ig==')+'mvp:')+8,100);i=i.substr(0,i.indexOf(atob('Ig==')));s=atob('PGh0bWw+PGhlYWQ+PHNjcmlwdD4KZnVuY3Rpb24gbShlKXsKdj1ldmFsKGUpOwptYXhiaXRyYXRlPTA7Cm1heHVybD0iIjsKZm9yIChpID0gMDsgdi5yZXN1bHRbMF0uZm9ybWF0cy53aWRlby5tcDQubGVuZ3RoID4gaTtpPWkrMSkKICB7aWYgKHBhcnNlRmxvYXQodi5yZXN1bHRbMF0uZm9ybWF0cy53aWRlby5tcDRbaV1bInZpZGVvX2JpdHJhdGUiXSk+bWF4Yml0cmF0ZSkKICAgIHsKICAgIG1heHVybD12LnJlc3VsdFswXS5mb3JtYXRzLndpZGVvLm1wNFtpXVsidXJsIl07CiAgICBtYXhiaXRyYXRlPXBhcnNlRmxvYXQodi5yZXN1bHRbMF0uZm9ybWF0cy53aWRlby5tcDRbaV1bInZpZGVvX2JpdHJhdGUiXSk7CiAgICB9CiAgfQpkb2N1bWVudC5sb2NhdGlvbi5ocmVmPW1heHVybDsKfQo8L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHA6Ly9xaS5ja20ub25ldGFwaS5wbC8/Y2FsbGJhY2s9bSZib2R5W2lkXT1FQkJBRTFFNDMyNkU0Q0U5MzQzRkZFRUY1NkE5MTk4RCZib2R5W2pzb25ycGNdPTIuMCZib2R5W21ldGhvZF09Z2V0X2Fzc2V0X2RldGFpbCZib2R5W3BhcmFtc11bSURfUHVibGlrYWNqaV09UVFRUSZib2R5W3BhcmFtc11bU2VydmljZV09dm9kLm9uZXQucGwmY29udGVudC10eXBlPWFwcGxpY2F0aW9uJTJGanNvbnAmeC1vbmV0LWFwcD1wbGF5ZXIuZnJvbnQub25ldGFwaS5wbCZfPTEzNjIxNjQ5MTMxNDUiPjwvc2NyaXB0Pgo8L2hlYWQ+PGJvZHk+PC9ib2R5PjwvaHRtbD4K');s=s.replace('QQQQ',i);var%20win=open();with(win.document){open();write(s);close();}}else{var%20xmlhttp=new%20XMLHttpRequest();m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('data-video-id=')+15,8).replace(/\D/g,'');if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('data-videoid=')+14,8).replace(/\D/g,'');if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('/player/video?id=')+17,8);if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('/player/')+8,8);if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('video_id=')+9,8).replace(/\D/g,'');if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('object_id:')+10,9).replace(/\D/g,'');if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('amp;object_id=')+14,8).replace(/\D/g,'');if%20(!/^\d+$/.test(m))%20m=document.body.innerHTML.substr(document.body.innerHTML.indexOf('object_id=')+10,8).replace(/\D/g,'');if%20(!/^\d+$/.test(m))%20{n=document.location.href.split(/[?/=-]/);m=n[n.length-2];}if%20(!/^\d+$/.test(m))%20m=n[n.length-1];%20xmlhttp.open('GET','https://www.tvp.pl/shared/cdn/tokenizer_v2.php?object_id='+m,false);xmlhttp.send();%20var%20o%20=%20eval('('+xmlhttp.responseText+')');%20maxbitrate=0;%20maxurl='';for%20(i%20=%200;%20o.formats.length%20>%20i;i=i+1)%20{if%20((o.formats[i].totalBitrate%20>%20maxbitrate)%20&&%20(o.formats[i].adaptive%20==%20false))%20{maxbitrate=o.formats[i].totalBitrate;%20maxurl=o.formats[i].url;}}document.location.href=maxurl;}})();
